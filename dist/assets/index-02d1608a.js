import{j as t,A as T,a as b,F as L,C as H,b as F,c as U,T as j,d as k,B as q}from"./@mui-8042e8e4.js";import{r as a}from"./react-350bdb9d.js";import{c as D}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as M,g as z,a as K,b as u,c as f,o as x,s as Q}from"./@firebase-d04186ae.js";import{u as G,C as V}from"./react-cookie-0aab9d8e.js";import{a as X,b as Y}from"./react-router-26ec1537.js";import{B as Z}from"./react-router-dom-afba2f4c.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./universal-cookie-0a366c1a.js";import"./@remix-run-b63dde2e.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const _={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},O=M(_);z(O);K(O);u(O);function $(m){const[i,o]=a.useState([]),n=window.location.hash.split("/")[1],[e,s]=a.useState(""),[l,v]=a.useState(""),g=10,[w,S]=a.useState(),[I,A]=a.useState(),[p,E]=a.useState(0),[h,C]=a.useState({Question:"",Answer:""}),d=r=>JSON.parse(localStorage.getItem(r));a.useEffect(()=>{const r=d(n);if(r&&C(r),!d(n)){const c=Math.floor(Math.random()*g);C(y=>({...y,Question:c})),console.log(c,"ran"),window.location.reload(!1)}console.log(n),P(),J(d("login").Name)},[]),a.useEffect(()=>{localStorage.setItem(n,JSON.stringify(h)),(!h.Question||!h.Answer)&&localStorage.setItem(n,JSON.stringify(h)),console.log(localStorage)},[h]),a.useEffect(()=>{d(n).Answer&&(s(d(n).Answer),W());let r=i[d(n).Question];r&&v(r.question)},[i]);const J=async r=>{const c=u(),y=f(c,"users/"+r);x(y,N=>{const B=N.val();B&&E(B.score)})},P=async()=>{const r=u(),c=f(r,"questions/");x(c,y=>{const N=y.val();o(N)})},R=r=>{const c=u();Q(f(c,"users/"+r),{score:p+1})},W=()=>{S(!0),A(t("div",{style:{marginTop:20},children:t(T,{severity:"success",children:"That's Right"})}))};return b(L,{children:[t(H,{sx:{maxWidth:500,maxHeight:500},children:t(F,{children:b(U,{children:[t(j,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),t(j,{variant:"h6",color:"text.secondary",children:l})]})})}),b("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(k,{value:e,disabled:w,style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:r=>s(r.target.value),variant:"outlined"}),t(q,{disabled:w,variant:"outlined",onClick:r=>{i[d(n).Question].answer===e.toLowerCase()?(W(),C(c=>({...c,Answer:e})),R(d("login").Name)):(S(!1),A(t("div",{style:{marginTop:20},children:t(T,{severity:"error",children:"Wrong Answer"})})))},style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),I]})}function ee(){G(["user"]);const[m,i]=a.useState(""),[o,n]=a.useState({}),[e,s]=a.useState();a.useEffect(()=>{localStorage.setItem("login",JSON.stringify(o)),(!o.Name||!o.SignedIn)&&localStorage.setItem("login",JSON.stringify(o)),console.log(localStorage)},[o]);const l=async g=>{const w=u(),S=f(w,"users/"+g);x(S,I=>{I.val()?(console.log("user exists"),s(t("div",{style:{marginTop:20},children:t(T,{severity:"error",children:"User already exists. Try another"})}))):(n(p=>({...p,Name:m})),n(p=>({...p,SignedIn:!0})),window.location.reload(!1))})};return b(L,{children:[b("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(k,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%"},onChange:g=>i(g.target.value),variant:"outlined"}),t(q,{variant:"outlined",onClick:()=>{l(m)},style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),e]})}function te(){const[m,i]=a.useState({}),o=()=>JSON.parse(localStorage.getItem("login"));function n(e){const s=u();Q(f(s,"users/"+e),{score:0})}if(a.useEffect(()=>{if(o()){const e=u(),s=f(e,"users/"+o().Name);x(s,l=>{const v=l.val();o().Name&&!v&&n(o().Name)})}},[m]),o()==null||Object.keys(o()).length==0)return t(ee,{});if(o().SignedIn)return t(X,{children:t(Y,{path:"/vibhava",element:t($,{})})})}D.createRoot(document.getElementById("root")).render(t(L,{children:t(Z,{children:t(V,{children:t(te,{})})})}));
