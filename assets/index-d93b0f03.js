import{j as t,A as x,a as u,F as T,C as M,b as z,c as J,T as N,d as q,B as E}from"./@mui-8042e8e4.js";import{r as o}from"./react-350bdb9d.js";import{c as K}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as G,g as V,a as X,b as d,c as p,o as A,s as P}from"./@firebase-d04186ae.js";import{B as Y}from"./react-router-dom-d83a68b5.js";import{u as Z,a as _,b as W}from"./react-router-c6792f9c.js";import{u as S,C as $}from"./react-cookie-77a2434a.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./@remix-run-b63dde2e.js";import"./universal-cookie-0a366c1a.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}})();const ee={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},k=G(ee);V(k);X(k);d(k);function B(r){const[a,c]=o.useState([]),{questionbank:l}=Z(),[e,s]=S(["user"]),[n,h]=o.useState(""),[m,b]=o.useState(""),y=10,[g,v]=o.useState(),[j,I]=o.useState(),[Q,R]=o.useState(0),H=async i=>{const f=d(),w=p(f,"users/"+i);A(w,C=>{const D=C.val();R(D.score)})},O=async()=>{const i=d(),f=p(i,"questions/");A(f,w=>{const C=w.val();c(C)})},F=i=>{const f=d();P(p(f,"users/"+i),{score:Q+1})};o.useEffect(()=>{e.Answer&&(h(e.Answer),L())},[e]);const L=()=>{v(!0),I(t("div",{style:{marginTop:20},children:t(x,{severity:"success",children:"That's Right"})}))},U=i=>{a[e.Question].answer===n.toLowerCase()?(L(),s("Answer",n,{path:"/"}),F(e.Name)):(v(!1),I(t("div",{style:{marginTop:20},children:t(x,{severity:"error",children:"Wrong Answer"})})))};return o.useEffect(()=>{e.Question||(s("Question",Math.floor(Math.random()*y),{path:"/"}),window.location.reload(!1))},[]),o.useEffect(()=>{console.log(l),O(),H(e.Name)},[]),o.useEffect(()=>{let i=a[e.Question];i&&b(i.question)},[a,e]),u(T,{children:[t(M,{sx:{maxWidth:500,maxHeight:500},children:t(z,{children:u(J,{children:[t(N,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),t(N,{variant:"h6",color:"text.secondary",children:m})]})})}),u("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(q,{value:n,disabled:g,style:{maxWidth:500,minWidth:200,width:"80%"},onChange:i=>h(i.target.value),variant:"outlined"}),t(E,{disabled:g,variant:"outlined",onClick:U,style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),j]})}function te(){const[r,a]=S(["user"]),[c,l]=o.useState(""),[e,s]=o.useState(),n=async m=>{const b=d(),y=p(b,"users/"+m);A(y,g=>{g.val()?(console.log("user exists"),s(t("div",{style:{marginTop:20},children:t(x,{severity:"error",children:"User already exists. Try another"})}))):(a("Name",c,{path:"/"}),a("SignedIn",!0,{path:"/"}),window.location.reload(!1))})},h=()=>{n(c)};return o.useEffect(()=>{console.log(r)},[r]),u(T,{children:[u("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(q,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%"},onChange:m=>l(m.target.value),variant:"outlined"}),t(E,{variant:"outlined",onClick:h,style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),e]})}function se(){const[r,a]=S(["user"]);function c(l){const e=d();P(p(e,"users/"+l),{score:0})}return o.useEffect(()=>{r.Name&&c(r.Name)},[r]),r.SignedIn?u(_,{children:[t(W,{path:"vibhava/:questionbank",element:t(B,{user:r.Name})}),t(W,{path:"/vibhava",element:t(B,{user:r.Name})})]}):t(te,{})}K.createRoot(document.getElementById("root")).render(t(T,{children:t(Y,{children:t($,{children:t(se,{})})})}));
