import{j as t,A,a as u,F as T,C as M,b as z,c as J,T as L,d as q,B as E}from"./@mui-8042e8e4.js";import{r as o}from"./react-350bdb9d.js";import{c as K}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as G,g as V,a as X,b as d,c as m,o as b,s as j}from"./@firebase-d04186ae.js";import{u as S,C as Y}from"./react-cookie-77a2434a.js";import{a as Z,b as W}from"./react-router-26ec1537.js";import{B as _}from"./react-router-dom-afba2f4c.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./universal-cookie-0a366c1a.js";import"./@remix-run-b63dde2e.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function l(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(e){if(e.ep)return;e.ep=!0;const s=l(e);fetch(e.href,s)}})();const $={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},k=G($);V(k);X(k);d(k);function B(r){const[n,l]=o.useState([]),c=window.location.hash.split("/")[1],[e,s]=S(["user"]),[a,h]=o.useState(""),[f,y]=o.useState(""),v=10,[g,w]=o.useState(),[P,I]=o.useState(),[Q,R]=o.useState(0),H=async i=>{const p=d(),C=m(p,"users/"+i);b(C,x=>{const D=x.val();R(D.score)})},O=async()=>{const i=d(),p=m(i,"questions/");b(p,C=>{const x=C.val();l(x)})},F=i=>{const p=d();j(m(p,"users/"+i),{score:Q+1})};o.useEffect(()=>{e.Answer&&(h(e.Answer),N())},[e]);const N=()=>{w(!0),I(t("div",{style:{marginTop:20},children:t(A,{severity:"success",children:"That's Right"})}))},U=i=>{n[e.Question].answer===a.toLowerCase()?(N(),s("Answer",a,{path:"/"}),F(e.Name)):(w(!1),I(t("div",{style:{marginTop:20},children:t(A,{severity:"error",children:"Wrong Answer"})})))};return o.useEffect(()=>{e.Question||(s("Question",Math.floor(Math.random()*v),{path:"/"}),window.location.reload(!1))},[]),o.useEffect(()=>{console.log(c),O(),H(e.Name)},[]),o.useEffect(()=>{let i=n[e.Question];i&&y(i.question)},[n,e]),u(T,{children:[t(M,{sx:{maxWidth:500,maxHeight:500},children:t(z,{children:u(J,{children:[t(L,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),t(L,{variant:"h6",color:"text.secondary",children:f})]})})}),u("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(q,{value:a,disabled:g,style:{maxWidth:500,minWidth:200,width:"80%"},onChange:i=>h(i.target.value),variant:"outlined"}),t(E,{disabled:g,variant:"outlined",onClick:U,style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),P]})}function ee(){const[r,n]=S(["user"]),[l,c]=o.useState(""),[e,s]=o.useState(),a=async f=>{const y=d(),v=m(y,"users/"+f);b(v,g=>{g.val()?(console.log("user exists"),s(t("div",{style:{marginTop:20},children:t(A,{severity:"error",children:"User already exists. Try another"})}))):(n("Name",l,{path:"/"}),n("SignedIn",!0,{path:"/"}),window.location.reload(!1))})},h=()=>{a(l)};return o.useEffect(()=>{console.log(r)},[r]),u(T,{children:[u("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(q,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%"},onChange:f=>c(f.target.value),variant:"outlined"}),t(E,{variant:"outlined",onClick:h,style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),e]})}function te(){const[r,n]=S(["user"]);function l(c){const e=d();j(m(e,"users/"+c),{score:0})}return o.useEffect(()=>{const c=d(),e=m(c,"users/"+r.Name);b(e,s=>{const a=s.val();r.Name&&!a&&l(r.Name)})},[r]),r.SignedIn?u(Z,{children:[t(W,{path:"/vibhava/:questionbank",element:t(B,{user:r.Name})}),t(W,{path:"/vibhava",element:t(B,{user:r.Name})})]}):t(ee,{})}K.createRoot(document.getElementById("root")).render(t(T,{children:t(_,{children:t(Y,{children:t(te,{})})})}));
