import{j as t,A as T,a as y,F as L,C as H,b as F,c as U,T as B,d as R,B as j}from"./@mui-8042e8e4.js";import{r as a}from"./react-350bdb9d.js";import{c as D}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as M,g as z,a as K,b as u,c as f,o as x,s as q}from"./@firebase-d04186ae.js";import{a as G,b as V}from"./react-router-26ec1537.js";import{B as X}from"./react-router-dom-afba2f4c.js";import{C as Y}from"./react-cookie-e5ea0301.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./@remix-run-b63dde2e.js";import"./universal-cookie-0a366c1a.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const Z={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},O=M(Z);z(O);K(O);u(O);function _(m){const[i,s]=a.useState([]),r=window.location.hash.split("/")[1],[e,o]=a.useState(""),[l,v]=a.useState(""),g=10,[w,S]=a.useState(),[I,A]=a.useState(),[p,Q]=a.useState(0),[h,C]=a.useState({Question:"",Answer:""}),d=n=>JSON.parse(localStorage.getItem(n));a.useEffect(()=>{const n=d(r);if(n&&C(n),!d(r)){const c=Math.floor(Math.random()*g);C(b=>({...b,Question:c})),console.log(c,"ran"),window.location.reload(!1)}console.log(r),J(),E(d("login").Name)},[]),a.useEffect(()=>{localStorage.setItem(r,JSON.stringify(h)),(!h.Question||!h.Answer)&&localStorage.setItem(r,JSON.stringify(h)),console.log(localStorage)},[h]),a.useEffect(()=>{d(r).Answer&&(o(d(r).Answer),W());let n=i[d(r).Question];n&&v(n.question)},[i]);const E=async n=>{const c=u(),b=f(c,"users/"+n);x(b,N=>{const k=N.val();k&&Q(k.score)})},J=async()=>{const n=u(),c=f(n,"questions/");x(c,b=>{const N=b.val();s(N)})},P=n=>{const c=u();q(f(c,"users/"+n),{score:p+1})},W=()=>{S(!0),A(t("div",{style:{marginTop:20},children:t(T,{severity:"success",children:"That's Right"})}))};return y(L,{children:[t(H,{sx:{maxWidth:500,maxHeight:500},children:t(F,{children:y(U,{children:[t(B,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),t(B,{variant:"h6",color:"text.secondary",children:l})]})})}),y("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(R,{value:e,disabled:w,style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:n=>o(n.target.value),variant:"outlined"}),t(j,{disabled:w,variant:"outlined",onClick:n=>{i[d(r).Question].answer===e.toLowerCase()?(W(),C(c=>({...c,Answer:e})),P(d("login").Name)):(S(!1),A(t("div",{style:{marginTop:20},children:t(T,{severity:"error",children:"Wrong Answer"})})))},style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),I]})}function $(){const[m,i]=a.useState(""),[s,r]=a.useState({}),[e,o]=a.useState();a.useEffect(()=>{localStorage.setItem("login",JSON.stringify(s)),(!s.Name||!s.SignedIn)&&localStorage.setItem("login",JSON.stringify(s)),console.log(localStorage)},[s]);const l=async g=>{const w=u(),S=f(w,"users/"+g);x(S,I=>{I.val()?(console.log("user exists"),o(t("div",{style:{marginTop:20},children:t(T,{severity:"error",children:"User already exists. Try another"})}))):(r(p=>({...p,Name:m})),r(p=>({...p,SignedIn:!0})),window.location.reload(!1))})};return y(L,{children:[y("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[t(R,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:g=>i(g.target.value),variant:"filled"}),t(j,{variant:"outlined",onClick:()=>{l(m)},style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",borderRadius:"5px",background:"white",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),e]})}function ee(){const[m,i]=a.useState({}),s=()=>JSON.parse(localStorage.getItem("login"));function r(e){const o=u();q(f(o,"users/"+e),{score:0})}if(a.useEffect(()=>{if(s()){const e=u(),o=f(e,"users/"+s().Name);x(o,l=>{const v=l.val();s().Name&&!v&&r(s().Name)})}},[m]),s()==null||Object.keys(s()).length==0)return t($,{});if(s().SignedIn)return t(G,{children:t(V,{path:"/vibhava",element:t(_,{})})})}D.createRoot(document.getElementById("root")).render(t(L,{children:t(X,{children:t(Y,{children:t(ee,{})})})}));
