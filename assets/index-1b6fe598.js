import{j as f,a as e,A as C,F as A,C as U,b as D,c as M,T as q,d as B,B as E}from"./@mui-b28be1df.js";import{r as s}from"./react-350bdb9d.js";import{c as z}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as K,g as G,a as V,b as g,c as p,o as I,s as j}from"./@firebase-d04186ae.js";import{a as X,b as _}from"./react-router-26ec1537.js";import{B as Y}from"./react-router-dom-afba2f4c.js";import{C as Z}from"./react-cookie-e5ea0301.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./@remix-run-b63dde2e.js";import"./universal-cookie-0a366c1a.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(o){if(o.ep)return;o.ep=!0;const t=n(o);fetch(o.href,t)}})();const $={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},L=K($);G(L);V(L);g(L);function ee(h){const[c,n]=s.useState([]),[i,o]=s.useState(window.location.href);s.useEffect(()=>{o(i)},[i]);const t=window.location.hash.split("/")[1],[a,m]=s.useState(""),[d,b]=s.useState(""),y=10,[x,N]=s.useState(),[w,R]=s.useState(),[Q,J]=s.useState(0),[v,T]=s.useState({Question:"",Answer:""}),u=r=>JSON.parse(localStorage.getItem(r));s.useEffect(()=>{const r=u(t);if(r&&T(r),!u(t)){const l=Math.floor(Math.random()*y);T(S=>({...S,Question:l})),console.log(l,"ran"),window.location.reload(!1)}console.log(t),F(),P(u("login").Name)},[]),s.useEffect(()=>{localStorage.setItem(t,JSON.stringify(v)),(!v.Question||!v.Answer)&&localStorage.setItem(t,JSON.stringify(v)),console.log(localStorage)},[v]),s.useEffect(()=>{u(t).Answer&&(m(u(t).Answer),k());let r=c[u(t).Question];r&&b(r.question)},[c]);const P=async r=>{const l=g(),S=p(l,"users/"+r);I(S,O=>{const W=O.val();W&&J(W.score)})},F=async()=>{const r=g(),l=p(r,"questions/");I(l,S=>{const O=S.val();n(O)})},H=r=>{const l=g();j(p(l,"users/"+r),{score:Q+1})},k=()=>{N(!0),R(f("div",{style:{marginTop:20},children:[e(C,{severity:"success",children:"That's Right"}),e(C,{style:{marginTop:20},severity:"info",children:"Clue to next answer"})]}))};return f(A,{children:[e(U,{sx:{maxWidth:500,maxHeight:500},children:e(D,{children:f(M,{children:[e(q,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),e(q,{variant:"h6",color:"text.secondary",children:d})]})})}),f("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[e(B,{value:a,disabled:x,style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:r=>m(r.target.value),variant:"outlined"}),e(E,{disabled:x,variant:"outlined",onClick:r=>{c[u(t).Question].answer===a.toLowerCase()?(k(),T(l=>({...l,Answer:a})),H(u("login").Name)):(N(!1),R(e("div",{style:{marginTop:20},children:e(C,{severity:"error",children:"Wrong Answer"})})))},style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),w]})}function te(){const[h,c]=s.useState(""),[n,i]=s.useState({}),[o,t]=s.useState();s.useEffect(()=>{localStorage.setItem("login",JSON.stringify(n)),(!n.Name||!n.SignedIn)&&localStorage.setItem("login",JSON.stringify(n)),console.log(localStorage)},[n]);const a=async d=>{const b=g(),y=p(b,"users/"+d);I(y,x=>{x.val()?(console.log("user exists"),t(e("div",{style:{marginTop:20},children:e(C,{severity:"error",children:"User already exists. Try another"})}))):(i(w=>({...w,Name:h})),i(w=>({...w,SignedIn:!0})),window.location.reload(!1))})};return f(A,{children:[f("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[e(B,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:d=>c(d.target.value),variant:"filled"}),e(E,{variant:"outlined",onClick:()=>{a(h)},style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",borderRadius:"5px",background:"white",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),o]})}function oe(){return e(A,{children:f("div",{id:"error",children:[e("div",{id:"box"}),e("h3",{children:"ERROR 500"}),f("p",{children:["Things are a little ",e("span",{children:"unstable"})," here."]}),e("p",{children:"Congrats on finding this btw."})]})})}function se(){const[h,c]=s.useState({}),n=()=>JSON.parse(localStorage.getItem("login")),i=window.location.hash.split("/")[1],[o,t]=s.useState(["ceaser","binary","alphabet","morse","plain",7,8,9,10,11,12,13,14,15]);if(console.log(i),!o.includes(i))return e(oe,{});function a(m){const d=g();j(p(d,"users/"+m),{score:0})}if(s.useEffect(()=>{if(n()){const m=g(),d=p(m,"users/"+n().Name);I(d,b=>{const y=b.val();n().Name&&!y&&a(n().Name)})}},[h]),n()==null||Object.keys(n()).length==0)return e(te,{});if(n().SignedIn)return e(X,{children:e(_,{path:"/vibhava",element:e(ee,{})})})}z.createRoot(document.getElementById("root")).render(e(A,{children:e(Y,{children:e(Z,{children:e(se,{})})})}));
