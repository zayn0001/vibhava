import{j as m,a as e,A as x,F as A,C as F,b as H,c as U,T as W,d as q,B}from"./@mui-b28be1df.js";import{r}from"./react-350bdb9d.js";import{c as D}from"./react-dom-94ea3d16.js";import"./firebase-bc03635d.js";import{i as M,g as z,a as K,b as f,c as y,o as I,s as j}from"./@firebase-d04186ae.js";import{a as G,b as V}from"./react-router-26ec1537.js";import{B as X}from"./react-router-dom-afba2f4c.js";import{C as _}from"./react-cookie-e5ea0301.js";import"./react-is-1aacdabe.js";import"./@babel-5d790daf.js";import"./clsx-1229b3e0.js";import"./@emotion-391e7349.js";import"./hoist-non-react-statics-691fe6cb.js";import"./stylis-581c9ed0.js";import"./react-transition-group-6db5c6ce.js";import"./cookie-b95dd347.js";import"./scheduler-04ce0582.js";import"./idb-f62f60ab.js";import"./tslib-4b8363ab.js";import"./@remix-run-b63dde2e.js";import"./universal-cookie-0a366c1a.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();const Y={apiKey:"AIzaSyD5j0ty3niJ2Cplj-DIh5XHS7PT6WoUke0",authDomain:"vibhava-cfb29.firebaseapp.com",projectId:"vibhava-cfb29",storageBucket:"vibhava-cfb29.appspot.com",messagingSenderId:"113566592625",appId:"1:113566592625:web:38a5a3e02a03bbd3a575d0",measurementId:"G-BQ4J5TTPLF",databaseURL:"https://vibhava-cfb29-default-rtdb.asia-southeast1.firebasedatabase.app"},L=M(Y);z(L);K(L);f(L);function Z(g){const[a,s]=r.useState([]),o=window.location.hash.split("/")[1],[t,n]=r.useState(""),[l,h]=r.useState(""),d=10,[p,b]=r.useState(),[C,N]=r.useState(),[v,E]=r.useState(0),[w,T]=r.useState({Question:"",Answer:""}),u=i=>JSON.parse(localStorage.getItem(i));r.useEffect(()=>{const i=u(o);if(i&&T(i),!u(o)){const c=Math.floor(Math.random()*d);T(S=>({...S,Question:c})),console.log(c,"ran"),window.location.reload(!1)}console.log(o),J(),Q(u("login").Name)},[]),r.useEffect(()=>{localStorage.setItem(o,JSON.stringify(w)),(!w.Question||!w.Answer)&&localStorage.setItem(o,JSON.stringify(w)),console.log(localStorage)},[w]),r.useEffect(()=>{u(o).Answer&&(n(u(o).Answer),R());let i=a[u(o).Question];i&&h(i.question)},[a]);const Q=async i=>{const c=f(),S=y(c,"users/"+i);I(S,O=>{const k=O.val();k&&E(k.score)})},J=async()=>{const i=f(),c=y(i,"questions/");I(c,S=>{const O=S.val();s(O)})},P=i=>{const c=f();j(y(c,"users/"+i),{score:v+1})},R=()=>{b(!0),N(m("div",{style:{marginTop:20},children:[e(x,{severity:"success",children:"That's Right"}),e(x,{style:{marginTop:20},severity:"info",children:"Clue to next answer"})]}))};return m(A,{children:[e(F,{sx:{maxWidth:500,maxHeight:500},children:e(H,{children:m(U,{children:[e(W,{gutterBottom:!0,variant:"h5",component:"div",children:"?"}),e(W,{variant:"h6",color:"text.secondary",children:l})]})})}),m("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[e(q,{value:t,disabled:p,style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:i=>n(i.target.value),variant:"outlined"}),e(B,{disabled:p,variant:"outlined",onClick:i=>{a[u(o).Question].answer===t.toLowerCase()?(R(),T(c=>({...c,Answer:t})),P(u("login").Name)):(b(!1),N(e("div",{style:{marginTop:20},children:e(x,{severity:"error",children:"Wrong Answer"})})))},style:{backgroundColor:"white",minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),C]})}function $(){const[g,a]=r.useState(""),[s,o]=r.useState({}),[t,n]=r.useState();r.useEffect(()=>{localStorage.setItem("login",JSON.stringify(s)),(!s.Name||!s.SignedIn)&&localStorage.setItem("login",JSON.stringify(s)),console.log(localStorage)},[s]);const l=async d=>{const p=f(),b=y(p,"users/"+d);I(b,C=>{C.val()?(console.log("user exists"),n(e("div",{style:{marginTop:20},children:e(x,{severity:"error",children:"User already exists. Try another"})}))):(o(v=>({...v,Name:g})),o(v=>({...v,SignedIn:!0})),window.location.reload(!1))})};return m(A,{children:[m("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between"},children:[e(q,{label:"Name",style:{maxWidth:500,minWidth:200,width:"80%",borderRadius:"5px",background:"white"},onChange:d=>a(d.target.value),variant:"filled"}),e(B,{variant:"outlined",onClick:()=>{l(g)},style:{minWidth:40,minHeight:40,maxWidth:40,marginLeft:"auto",borderRadius:"5px",background:"white",marginTop:"auto",marginBottom:"auto",maxHeight:40},children:"✓"})]}),t]})}function ee(){return e(A,{children:m("div",{id:"error",children:[e("div",{id:"box"}),e("h3",{children:"ERROR 500"}),m("p",{children:["Things are a little ",e("span",{children:"unstable"})," here"]}),e("p",{children:"I suggest come back later"})]})})}function te(){const[g,a]=r.useState({}),s=()=>JSON.parse(localStorage.getItem("login")),o=window.location.hash.split("/")[1],[t,n]=r.useState(["ceaser","binary","alphabet","morse","plain",7,8,9,10,11,12,13,14,15]);if(console.log(o),!t.includes(o))return e(ee,{});function l(h){const d=f();j(y(d,"users/"+h),{score:0})}if(r.useEffect(()=>{if(s()){const h=f(),d=y(h,"users/"+s().Name);I(d,p=>{const b=p.val();s().Name&&!b&&l(s().Name)})}},[g]),s()==null||Object.keys(s()).length==0)return e($,{});if(s().SignedIn)return e(G,{children:e(V,{path:"/vibhava",element:e(Z,{})})})}D.createRoot(document.getElementById("root")).render(e(A,{children:e(X,{children:e(_,{children:e(te,{})})})}));
